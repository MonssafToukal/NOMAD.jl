<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Tutorial · NOMAD.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">NOMAD.jl</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../nomadParameters/">Parameters</a></li><li><a class="tocitem" href="../run_nomad/">Run Optimization</a></li><li><a class="tocitem" href="../nomadResults/">Results</a></li><li><a class="tocitem" href="../surrogates/">Surrogates</a></li><li class="is-active"><a class="tocitem" href>Tutorial</a><ul class="internal"><li><a class="tocitem" href="#Moustache-problem-1"><span>Moustache problem</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Tutorial</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Tutorial</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/bbopt/NOMAD.jl/blob/master/docs/src/tutorial.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Tutorial-1"><a class="docs-heading-anchor" href="#Tutorial-1">Tutorial</a><a class="docs-heading-anchor-permalink" href="#Tutorial-1" title="Permalink"></a></h1><h2 id="Moustache-problem-1"><a class="docs-heading-anchor" href="#Moustache-problem-1">Moustache problem</a><a class="docs-heading-anchor-permalink" href="#Moustache-problem-1" title="Permalink"></a></h2><div>\[\begin{array}{rl}
  (BB) \ \ \ 
  \displaystyle \max_{x,y} &amp; x\\
  s.t. &amp; y \in I(x)\\
\end{array}\]</div><p>The objective is to maximise <span>$f(x, y) = x$</span> with <span>$f$</span> not defined outside of a tight ribbon. At a given <span>$x$</span>, the interval of the admissible <span>$y$</span> values is denoted <span>$I(x) = [g(x) - \varepsilon(x)$</span>, <span>$g(x) + \varepsilon(x)]$</span>, with</p><div>\[g(x) = -(|\cos(x)| + 0.1) \sin(x) + 2 ~~\text{and}~~ \varepsilon(x) = 0.05 + 0.05 \Bigg(1 + \dfrac{1}{1 + |x - 11|}\Bigg)\]</div><p><img src="https://user-images.githubusercontent.com/35051714/75482594-21b76680-5973-11ea-94c8-f163c94b27de.png" alt/></p><p>We can rewrite the problem such that it can be solved with NOMAD. We choose as starting point <span>$(0, 2)$</span> and restrict the domain such that <span>$x \in [0,20]$</span> and <span>$y \in [0, 4]$</span>.  </p><div>\[\begin{array}{rrcll}
  (BB) \ \ \ 
  \displaystyle - \min_{x \in \mathbb{R}^2} &amp;&amp; -x_1\\
  s.t.
  &amp;               &amp; g(x_1) - \varepsilon(x_1) - x_2 &amp; \leq 0     &amp; \\
  &amp;               &amp; x_2 - g(x_1) + \varepsilon(x_1) &amp; \leq 0     &amp; \\
  &amp;        0 \leq &amp; x_1                             &amp; \leq 20    &amp; \\
  &amp;        0 \leq &amp; x_2                             &amp; \leq 4     &amp; \\
\end{array}\]</div><pre><code class="language-julia">using NOMAD

# Objective
function f(x)
  return -x[1]
end

# Constraints
function c(x)
  g = -(abs(cos(x[1])) + 0.1) * sin(x[1]) + 2
  ε = 0.05 + 0.05 * (1 - 1 / (1 + abs(x[1] - 11)))
  c = [g - ε - x[2], x[2] - g - ε]
  return c
end

# Evaluator
function eval(x)
  bb_outputs = vcat(f(x), c(x))
  success = true
  count_eval = true
  return (success, count_eval, bb_outputs)
end

# Parameters
param = nomadParameters([0, 2], [&quot;OBJ&quot;, &quot;EB&quot;, &quot;EB&quot;])
param.lower_bound = [0, 0]
param.upper_bound = [20, 4]

# Solution
result = nomad(eval, param)
println(&quot;Solution: &quot;, result.best_feasible)</code></pre><pre><code class="language-none">
MADS run {

	BBE	(	SOL	)	OBJ

	1	(	0.0000000000 2.0000000000 )	-0.0000000000
	5	(	1.0000000000 1.5000000000 )	-1.0000000000
	14	(	2.0000000000 1.4400000000 )	-2.0000000000
	20	(	3.0000000000 1.7900000000 )	-3.0000000000
	36	(	3.2100000000 1.9900000000 )	-3.2100000000
	37	(	3.8400000000 2.5900000000 )	-3.8400000000
	64	(	3.8800000000 2.6500000000 )	-3.8800000000
	67	(	3.9200000000 2.6600000000 )	-3.9200000000
	71	(	3.9300000000 2.6400000000 )	-3.9300000000
	72	(	3.9500000000 2.6300000000 )	-3.9500000000
	73	(	3.9800000000 2.6600000000 )	-3.9800000000
	75	(	4.0100000000 2.6300000000 )	-4.0100000000
	76	(	4.0500000000 2.6100000000 )	-4.0500000000
	77	(	4.0800000000 2.6400000000 )	-4.0800000000
	79	(	4.1500000000 2.5900000000 )	-4.1500000000
	80	(	4.2300000000 2.5600000000 )	-4.2300000000
	83	(	4.2500000000 2.5200000000 )	-4.2500000000
	84	(	4.3300000000 2.4600000000 )	-4.3300000000
	85	(	4.4600000000 2.4200000000 )	-4.4600000000
	87	(	4.5600000000 2.3200000000 )	-4.5600000000
	88	(	4.7200000000 2.2000000000 )	-4.7200000000
	89	(	4.8500000000 2.1600000000 )	-4.8500000000
	100	(	4.8600000000 2.1600000000 )	-4.8600000000
	110	(	5.1000000000 2.3600000000 )	-5.1000000000
	119	(	5.3400000000 2.5500000000 )	-5.3400000000
	123	(	5.4600000000 2.6500000000 )	-5.4600000000
	137	(	5.8500000000 2.4400000000 )	-5.8500000000
	150	(	5.9500000000 2.3900000000 )	-5.9500000000
	151	(	6.0500000000 2.3300000000 )	-6.0500000000
	159	(	6.0700000000 2.3100000000 )	-6.0700000000
	170	(	6.0800000000 2.1600000000 )	-6.0800000000
	173	(	6.0900000000 2.1500000000 )	-6.0900000000
	181	(	6.1000000000 2.1500000000 )	-6.1000000000
	182	(	6.1100000000 2.1400000000 )	-6.1100000000
	184	(	6.1300000000 2.1200000000 )	-6.1300000000
	185	(	6.1500000000 2.1000000000 )	-6.1500000000
	187	(	6.1900000000 2.0700000000 )	-6.1900000000
	188	(	6.2300000000 2.0300000000 )	-6.2300000000
	190	(	6.3100000000 1.9500000000 )	-6.3100000000
	191	(	6.3900000000 1.8700000000 )	-6.3900000000
	193	(	6.5500000000 1.7200000000 )	-6.5500000000
	194	(	6.7100000000 1.5700000000 )	-6.7100000000
	202	(	6.8700000000 1.4100000000 )	-6.8700000000
	207	(	6.9100000000 1.3800000000 )	-6.9100000000
	211	(	6.9200000000 1.3800000000 )	-6.9200000000
	212	(	6.9500000000 1.3700000000 )	-6.9500000000
	224	(	6.9800000000 1.3900000000 )	-6.9800000000
	225	(	7.0100000000 1.3900000000 )	-7.0100000000
	227	(	7.0700000000 1.3800000000 )	-7.0700000000
	228	(	7.1300000000 1.3900000000 )	-7.1300000000
	230	(	7.2500000000 1.4200000000 )	-7.2500000000
	231	(	7.3700000000 1.4300000000 )	-7.3700000000
	234	(	7.4300000000 1.4600000000 )	-7.4300000000
	242	(	7.4400000000 1.4700000000 )	-7.4400000000
	243	(	7.4800000000 1.4900000000 )	-7.4800000000
	246	(	7.4900000000 1.4900000000 )	-7.4900000000
	250	(	7.5100000000 1.5100000000 )	-7.5100000000
	251	(	7.5400000000 1.5300000000 )	-7.5400000000
	261	(	7.5700000000 1.6400000000 )	-7.5700000000
	262	(	7.6000000000 1.7000000000 )	-7.6000000000
	264	(	7.6600000000 1.7800000000 )	-7.6600000000
	268	(	7.6700000000 1.7600000000 )	-7.6700000000
	269	(	7.7100000000 1.7900000000 )	-7.7100000000
	270	(	7.7600000000 1.8900000000 )	-7.7600000000
	272	(	7.8100000000 1.9000000000 )	-7.8100000000
	276	(	7.8200000000 1.9500000000 )	-7.8200000000
	278	(	7.8700000000 1.9600000000 )	-7.8700000000
	282	(	7.8800000000 1.9400000000 )	-7.8800000000
	288	(	7.8900000000 1.9500000000 )	-7.8900000000
	290	(	7.9000000000 1.9300000000 )	-7.9000000000
	291	(	7.9100000000 1.9200000000 )	-7.9100000000
	295	(	7.9300000000 1.9000000000 )	-7.9300000000
	296	(	7.9500000000 1.8800000000 )	-7.9500000000
	298	(	7.9900000000 1.8300000000 )	-7.9900000000
	299	(	8.0300000000 1.7900000000 )	-8.0300000000
	301	(	8.1100000000 1.7100000000 )	-8.1100000000
	302	(	8.1900000000 1.6300000000 )	-8.1900000000
	304	(	8.3500000000 1.4600000000 )	-8.3500000000
	308	(	8.4300000000 1.3800000000 )	-8.4300000000
	311	(	8.4500000000 1.3700000000 )	-8.4500000000
	324	(	8.4700000000 1.4400000000 )	-8.4700000000
	325	(	8.4900000000 1.4700000000 )	-8.4900000000
	327	(	8.5300000000 1.4900000000 )	-8.5300000000
	331	(	8.5400000000 1.4600000000 )	-8.5400000000
	332	(	8.5700000000 1.4500000000 )	-8.5700000000
	333	(	8.6000000000 1.5000000000 )	-8.6000000000
	335	(	8.6400000000 1.4600000000 )	-8.6400000000
	336	(	8.6900000000 1.4500000000 )	-8.6900000000
	337	(	8.7200000000 1.5000000000 )	-8.7200000000
	338	(	8.8000000000 1.5300000000 )	-8.8000000000
	339	(	8.8900000000 1.4800000000 )	-8.8900000000
	341	(	9.0000000000 1.5600000000 )	-9.0000000000
	347	(	9.0200000000 1.6100000000 )	-9.0200000000
	348	(	9.0900000000 1.6700000000 )	-9.0900000000
	349	(	9.1800000000 1.7000000000 )	-9.1800000000
	351	(	9.2700000000 1.8100000000 )	-9.2700000000
	352	(	9.4100000000 1.9400000000 )	-9.4100000000
	355	(	9.4200000000 1.9900000000 )	-9.4200000000
	356	(	9.5400000000 2.1300000000 )	-9.5400000000
	357	(	9.7600000000 2.3200000000 )	-9.7600000000
	359	(	9.8900000000 2.5100000000 )	-9.8900000000
	363	(	9.9700000000 2.5600000000 )	-9.9700000000
	371	(	9.9900000000 2.5600000000 )	-9.9900000000
	372	(	10.0400000000 2.5800000000 )	-10.0400000000
	375	(	10.0500000000 2.6000000000 )	-10.0500000000
	377	(	10.1200000000 2.6200000000 )	-10.1200000000
	381	(	10.1300000000 2.6100000000 )	-10.1300000000
	382	(	10.1700000000 2.6200000000 )	-10.1700000000
	385	(	10.1900000000 2.6300000000 )	-10.1900000000
	386	(	10.2400000000 2.6400000000 )	-10.2400000000
	387	(	10.2900000000 2.6400000000 )	-10.2900000000
	395	(	10.3000000000 2.6300000000 )	-10.3000000000
	396	(	10.3300000000 2.6300000000 )	-10.3300000000
	408	(	10.3600000000 2.5000000000 )	-10.3600000000
	424	(	10.3800000000 2.5100000000 )	-10.3800000000
	425	(	10.4000000000 2.5000000000 )	-10.4000000000
	428	(	10.4100000000 2.5200000000 )	-10.4100000000
	429	(	10.4300000000 2.5300000000 )	-10.4300000000
	430	(	10.4600000000 2.5100000000 )	-10.4600000000
	431	(	10.5000000000 2.5000000000 )	-10.5000000000
	432	(	10.5300000000 2.5300000000 )	-10.5300000000
	434	(	10.6000000000 2.5000000000 )	-10.6000000000
	440	(	10.6200000000 2.4800000000 )	-10.6200000000
	441	(	10.6600000000 2.4600000000 )	-10.6600000000
	444	(	10.6700000000 2.4600000000 )	-10.6700000000
	450	(	10.6800000000 2.4500000000 )	-10.6800000000
	458	(	10.6900000000 2.4000000000 )	-10.6900000000
	459	(	10.7000000000 2.3700000000 )	-10.7000000000
	461	(	10.7200000000 2.3300000000 )	-10.7200000000
	471	(	11.0000000000 2.1300000000 )	-11.0000000000
	488	(	11.0200000000 2.0900000000 )	-11.0200000000
	493	(	11.0300000000 2.1000000000 )	-11.0300000000
	502	(	11.0400000000 2.1200000000 )	-11.0400000000
	503	(	11.0500000000 2.1400000000 )	-11.0500000000
	510	(	11.0700000000 2.1600000000 )	-11.0700000000
	511	(	11.0900000000 2.1900000000 )	-11.0900000000
	516	(	12.0900000000 2.3900000000 )	-12.0900000000
	530	(	12.3400000000 2.1900000000 )	-12.3400000000
	531	(	13.0900000000 1.5900000000 )	-13.0900000000
	538	(	14.0900000000 1.7900000000 )	-14.0900000000
	548	(	15.0900000000 1.4800000000 )	-15.0900000000
	562	(	15.3400000000 1.6600000000 )	-15.3400000000
	577	(	15.5800000000 1.8500000000 )	-15.5800000000
	579	(	15.5900000000 1.8400000000 )	-15.5900000000
	583	(	15.7100000000 1.9400000000 )	-15.7100000000
	585	(	15.7200000000 1.9300000000 )	-15.7200000000
	590	(	15.7500000000 1.9600000000 )	-15.7500000000
	601	(	15.7600000000 1.9700000000 )	-15.7600000000
	602	(	15.7900000000 2.0000000000 )	-15.7900000000
	604	(	16.0300000000 2.3700000000 )	-16.0300000000
	610	(	16.0600000000 2.4000000000 )	-16.0600000000
	616	(	16.1100000000 2.4800000000 )	-16.1100000000
	618	(	16.1400000000 2.5100000000 )	-16.1400000000
	626	(	16.6400000000 2.5600000000 )	-16.6400000000
	640	(	16.7700000000 2.5900000000 )	-16.7700000000
	647	(	16.8100000000 2.5800000000 )	-16.8100000000
	651	(	16.8200000000 2.5600000000 )	-16.8200000000
	652	(	16.8500000000 2.5500000000 )	-16.8500000000
	657	(	17.8500000000 2.4600000000 )	-17.8500000000
	661	(	19.8500000000 1.4600000000 )	-19.8500000000
	663	(	20.0000000000 1.4600000000 )	-20.0000000000
	884	(	20.0000000000 1.4600000000 )	-20.0000000000
	888	(	20.0000000000 1.4600000000 )	-20.0000000000
	900	(	20.0000000000 1.4600000000 )	-20.0000000000
	913	(	20.0000000000 1.4600000000 )	-20.0000000000

} end of run (mesh size reached NOMAD precision)

blackbox evaluations                     : 913
best feasible solution                   : ( 20 1.46 ) h=0 f=-20
Solution: [20.0000000000001, 1.459999999997404]</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../surrogates/">« Surrogates</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Friday 6 March 2020 22:13">Friday 6 March 2020</span>. Using Julia version 1.3.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
